<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>紹介状作成</title>
    <script src="drawer-svg.js"></script>
</head>
<body>

<div id="preview-wrapper" style="width:210mm;height:297mm;border:1px solid black"></div>

<script>
    var jsonFile = "test-out-refer.json";
    fetch("./" + jsonFile)
    .then(function(response){
        if( !response.ok ){
            throw new Error("fetch failed");
        }
        return response.json();
    })
    .then(function(ops){
        var svg = drawerToSvg(ops, {
            width: "210mm",
            height: "297mm",
            viewBox: "0 0 210 297"
        });
        document.getElementById("preview-wrapper").appendChild(svg);
    })
    .catch(function(err){
        alert(err.message);
    })
</script>
</body>
</html>
